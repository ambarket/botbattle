<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Wed May 06 03:24:12 EDT 2015 -->
<title>GameInterface</title>
<meta name="date" content="2015-05-06">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GameInterface";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GameInterface.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="index.html?GameInterface.html" target="_top">Frames</a></li>
<li><a href="GameInterface.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Interface GameInterface" class="title">Interface GameInterface</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">GameInterface</span></pre>
<div class="block">To write a new game for the Bot!Battle! system, a java class must be written
 that extends this interface with exactly the following signature.      
  <ul>
        <li>public class Game implements GameInterface
  </ul>
  
  <h3> External Libraries and Class Path </h3>
  <p>
  For your convenience in generating JSON strings, version 1.1.1 of the 
  following library is provided in the class path of the GameManager.
  </p>
  <ul>
        <li><a href="https://code.google.com/p/json-simple/">https://code.google.com/p/json-simple/</a>
  </ul>
  <p>
  If you'd like or require additional libraries they can be added to the class path 
  easily by modifying the following export in /BotBattleApp/custom_modules/BotBattlePaths.js
  </p>
  <ul>
        <li>module.exports.gameManagerClassPath
  </ul>
  <h3> Simplified Pseudocode for the Main Game Loop</h3>
  <p> This has been simplified to emphasize the order in which the game interface methods
        are called. The actual Main Game Loop can be found in ArenaGameInstance.java. 
        Familiarizing yourself with the game loop's structure and the order and timing in 
        which the interface methods are called should make the life of a game developer much easier.
  </p>
  <pre>
        runArenaGame() {
         
          game.initializeGame(gameType)
          
          game.getInitialGameStateJSON()
          
          while (!game.isGameOver()) {
            int player = game.getPlayerForCurrentTurn()
            
            if (player == 1) {
                board = game.getPlayerOneBoard()
                timeout = game.getBotTimeoutInMilliseconds()   
            } else {
                board = game.getPlayerTwoBoard()
                if (gameType == BOT_VS_HUMAN)
                    timeout = game.getHumanTimeoutInMilliseconds()
                else
                    timeout = game.getBotTimeoutInMilliseconds()
            }
            
            move = Get move from player(board, timeout)
        
            reasonMoveWasInvalid = game.validateMove(move, player);
            
            if (reasonMoveWasInvalid == null) 
              game.updateBoard(move, stderr, player);
              game.getMidGameStateJSON(jsonSafeMove, jsonSafeStderrArray, player)
            } else {
              Send invalid move message to TestArena
            }
          }
          
          game.getFinalGameStateJSON()
        }
        </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getBotTimeoutInMilliseconds--">getBotTimeoutInMilliseconds</a></span>()</code>
<div class="block">Number of milliseconds to wait for a bot's move (via their stdout stream) before
 giving up and reporting a "null" move.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getCompleteBoard--">getCompleteBoard</a></span>()</code>
<div class="block">Currently unused
  
 The idea was to combine both player 1 and player 2's view of the board into an
 overall string representation of the board.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getFinalGameStateJSON--">getFinalGameStateJSON</a></span>()</code>
<div class="block">A string containing a valid FinalGameState as defined in the documentation.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getHumanTimeoutInMilliseconds--">getHumanTimeoutInMilliseconds</a></span>()</code>
<div class="block">Number of milliseconds to wait for a human's move (via their stdout stream) before
 giving up and reporting a "null" move.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getInitialGameStateJSON--">getInitialGameStateJSON</a></span>()</code>
<div class="block">A string containing a valid InitialGameState as defined in the documentation.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getMidGameStateJSON-java.lang.String-java.lang.String-int-">getMidGameStateJSON</a></span>(java.lang.String&nbsp;jsonSafeMove,
                   java.lang.String&nbsp;jsonSafeStderrArray,
                   int&nbsp;player)</code>
<div class="block">A string containing a valid MidGameState as defined in the documentation.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getName--">getName</a></span>()</code>
<div class="block">Currently unused.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getPlayerForCurrentTurn--">getPlayerForCurrentTurn</a></span>()</code>
<div class="block">Return the player number of the current turn (iteration of the game loop).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getPlayerOneBoard--">getPlayerOneBoard</a></span>()</code>
<div class="block">Called when getPlayerForCurrentTurn() has indicated that it's
 player 1's turn.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#getPlayerTwoBoard--">getPlayerTwoBoard</a></span>()</code>
<div class="block">Called when getPlayerForCurrentTurn() has indicated that it's player 2's turn.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#initializeGame-GameType-">initializeGame</a></span>(GameType&nbsp;gameType)</code>
<div class="block">Called before any other interface methods.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#isGameOver--">isGameOver</a></span>()</code>
<div class="block">Used as the control for the main game loop.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#updateBoard-java.lang.String-int-">updateBoard</a></span>(java.lang.String&nbsp;move,
           int&nbsp;player)</code>
<div class="block">Update internal state of the board based on a valid move.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="GameInterface.html#validateMove-java.lang.String-int-">validateMove</a></span>(java.lang.String&nbsp;move,
            int&nbsp;player)</code>
<div class="block">Determine if the player's move was valid, and provide the reason if not.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>java.lang.String&nbsp;getName()</pre>
<div class="block">Currently unused.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A user friendly game name. E.g. Save The Island or Tic-Tac-Toe</dd>
</dl>
</li>
</ul>
<a name="initializeGame-GameType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initializeGame</h4>
<pre>void&nbsp;initializeGame(GameType&nbsp;gameType)</pre>
<div class="block">Called before any other interface methods. Must setup the game to be ready to
 play. Most likely involves initializing the board and any private members.
 The default no-arg constructor is also called before this if you'd like to
 perform some setup there.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gameType</code> - A GameType enum specifying BotVsBot or BotVsHuman.</dd>
</dl>
</li>
</ul>
<a name="getInitialGameStateJSON--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialGameStateJSON</h4>
<pre>java.lang.String&nbsp;getInitialGameStateJSON()</pre>
<div class="block">A string containing a valid InitialGameState as defined in the documentation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string containing a valid Initial GameState as defined in the documentation.</dd>
</dl>
</li>
</ul>
<a name="getMidGameStateJSON-java.lang.String-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMidGameStateJSON</h4>
<pre>java.lang.String&nbsp;getMidGameStateJSON(java.lang.String&nbsp;jsonSafeMove,
                                     java.lang.String&nbsp;jsonSafeStderrArray,
                                     int&nbsp;player)</pre>
<div class="block">A string containing a valid MidGameState as defined in the documentation.
 
 The move and stderr messages are recommended to be included 
        in the debugData attribute of the returned JSON String. Your client 
        side game.js file can then display these in the lists at the 
        bottom of the Test Arena, as done for the Save The Island game.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jsonSafeMove</code> - The player's move, cleaned with JSONSimple's 
        JSONValue.toJSONString(...) method.</dd>
<dd><code>jsonSafeStderrArray</code> - A String representing a JSON array of 
        new line separated strings received from the player since the 
        last turn, cleaned with JSONSimple's JSONValue.toJSONString(...) method.</dd>
<dd><code>player</code> - Either 1 or 2.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string containing a valid Mid GameState as defined in the documentation.</dd>
</dl>
</li>
</ul>
<a name="getFinalGameStateJSON--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFinalGameStateJSON</h4>
<pre>java.lang.String&nbsp;getFinalGameStateJSON()</pre>
<div class="block">A string containing a valid FinalGameState as defined in the documentation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string containing a valid final GameState as defined in the documentation.</dd>
</dl>
</li>
</ul>
<a name="validateMove-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateMove</h4>
<pre>java.lang.String&nbsp;validateMove(java.lang.String&nbsp;move,
                              int&nbsp;player)</pre>
<div class="block">Determine if the player's move was valid, and provide the reason if not.
 If the move was invalid, please provide a helpful description of the violation.
 This description will be sent to the Test Arena, along with the exact move text 
 generated by the bot or human player to be logged in the Event Log.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>move</code> - The last line received from the players standard output stream</dd>
<dd><code>player</code> - Either 1 or 2.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>If the move was valid: null  
        If the move was invalid: [String describing the reason the move was invalid]</dd>
</dl>
</li>
</ul>
<a name="updateBoard-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateBoard</h4>
<pre>void&nbsp;updateBoard(java.lang.String&nbsp;move,
                 int&nbsp;player)</pre>
<div class="block">Update internal state of the board based on a valid move.
 Will be called only if move was valid according to validateMove. Expected to
 evaluate and store any changes to the game state as a result of this move.
 Note: getMidGamestate will be called immediately after this.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>move</code> - The last line received from the players standard output stream</dd>
<dd><code>player</code> - Either 1 or 2.</dd>
</dl>
</li>
</ul>
<a name="isGameOver--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isGameOver</h4>
<pre>boolean&nbsp;isGameOver()</pre>
<div class="block">Used as the control for the main game loop. Once this returns true, the
 game is considered over and the GameInstance will call getFinalGameStateJSON.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the game is over, false otherwise.</dd>
</dl>
</li>
</ul>
<a name="getBotTimeoutInMilliseconds--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBotTimeoutInMilliseconds</h4>
<pre>int&nbsp;getBotTimeoutInMilliseconds()</pre>
<div class="block">Number of milliseconds to wait for a bot's move (via their stdout stream) before
 giving up and reporting a "null" move.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Timeout for bot players.</dd>
</dl>
</li>
</ul>
<a name="getHumanTimeoutInMilliseconds--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHumanTimeoutInMilliseconds</h4>
<pre>int&nbsp;getHumanTimeoutInMilliseconds()</pre>
<div class="block">Number of milliseconds to wait for a human's move (via their stdout stream) before
 giving up and reporting a "null" move.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>timeout for human test arena player</dd>
</dl>
</li>
</ul>
<a name="getPlayerForCurrentTurn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlayerForCurrentTurn</h4>
<pre>int&nbsp;getPlayerForCurrentTurn()</pre>
<div class="block">Return the player number of the current turn (iteration of the game loop). 
 This player will be asked for a move, and that move will be submitted to 
 the next calls to validateMove and updateBoard.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Either 1 or 2</dd>
</dl>
</li>
</ul>
<a name="getPlayerOneBoard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlayerOneBoard</h4>
<pre>java.lang.String&nbsp;getPlayerOneBoard()</pre>
<div class="block">Called when getPlayerForCurrentTurn() has indicated that it's
 player 1's turn. This string will be sent verbatim to standard input stream of the 
 bot playing as player 1.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Player 1's view of the game board.</dd>
</dl>
</li>
</ul>
<a name="getPlayerTwoBoard--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlayerTwoBoard</h4>
<pre>java.lang.String&nbsp;getPlayerTwoBoard()</pre>
<div class="block">Called when getPlayerForCurrentTurn() has indicated that it's player 2's turn. 
 This string will be sent verbatim to standard input stream of the 
 bot playing as player 2. Or ignored if player two is a human. 
 
 Note in the case of human players in the test arena, it's the job of game.js 
 to display the human input elements to the user. The recommendation is to 
 include the necessary information to generate the human input elements in 
 the gameData attribute of the midGameState preceding the human's turn.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Player 2's view of the game board.</dd>
</dl>
</li>
</ul>
<a name="getCompleteBoard--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCompleteBoard</h4>
<pre>java.lang.String&nbsp;getCompleteBoard()</pre>
<div class="block">Currently unused
  
 The idea was to combine both player 1 and player 2's view of the board into an
 overall string representation of the board. User feedback of the test arena indicated 
 they'd rather see the actual playerOne and playerTwo boards using the other getters above.
 
 In all likelihood this method is not needed at all and could be removed from the interface.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An overall view of the game board.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/GameInterface.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="index.html?GameInterface.html" target="_top">Frames</a></li>
<li><a href="GameInterface.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

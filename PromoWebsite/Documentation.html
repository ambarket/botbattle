<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Bot!Battle! Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Bot!Battle!</h1>
	  <br>
      <a href="./index.html" class="btn">Main</a>
      <a href="./downloads.html" class="btn">Downloads</a>
      <a href="./documentation.html" class="btn">Documentation</a>
      <a href="./support.html" class="btn">Support</a>
      <a href="./about.html" class="btn">About</a>
    </section>

    <section class="main-content">
      <h2> Creating a Game </h2>
      
      <h3> What makes up a Game? </h3>
      <p>A Bot!Battle! Game consists of 4 components that must be uploaded to the initial configuration page.</p>
      <ul>
		<li> 
			<p>Game Name: This name will be URL encoded and then used both in local storage file paths and urls to all game specific files and resources.
			<ul> 
				<li>  All  files uploaded and derived from your uploads to initial configuration will be stored in
					<ul>
						<li>  application_root/local_storage/game_modules/[Game Name]
					</ul>
				<li>  All game specific hosted files will be available at urls rooted at
				
					<ul>
						<li>  /game/[Game Name]
					</ul>
				</li>
		
			</ul>
		</li>
		<br/>
		<li> 
			<p>Game Rules: A pdf file containing the rules of the game.
			<ul>
				<li> Hosted at: /game/[Game Name]/rules
			</ul>
		</li>
		<br>
		<li>  
			<p>Game Module Javascript - [fileName].js
			<ul>
				<li>  Hosted at: /game/[Game Name]/javascript
				<li>  The build in test arena javascript file will automatically load this file when the test arena page is loaded.
				<li>  This file must implement a global javascript object named GAME that has a number of required methods that are called directly by the built in test arena javascript file. These will be described in detail below.
			</ul>
		</li>
		<br>
		<li>  
			<p> Game.java file â€“ containing a class with the following signature. 
			<ul>
				<li> public class Game implements GameInterface
				<li>  Details about the GameInterface methods and how they work within the system.
			</ul>
		</li>
		<br>
		<li>  
			<p> Game Module Resources: A zip archive containing any addition folders and files that you would like to be hosted by Bot!Battle! These will be unzipped and made available at the following url. 
			<ul>
				<li>  Hosted at: /game/[Game Name]/resources/[Unzipped Resources]
				<li>  This allows you to upload sprites, images, audio, and any anything else that your game module javascript file might require to display and animate the game to the user. 
			</ul>
		</li>
      </ul>
      <!-- ------------------------------------------------------------------------ -->
      <h3> Simplified Pseudocode for the Main Game Loop</h3>
      <p> This has been simplified to emphasize the order in which the game interface methods
       		are called. The actual Main Game Loop can be found in ArenaGameInstance.java </p>
<pre>
runArenaGame() {
  
  game = new Game();
  game.initializeGame(gameType);
  game.getInitialGameStateJSON();
  
  Send Initial GameState to TestArena
  
  while (!game.isGameOver()) {
    int player = game.getPlayerForCurrentTurn();
    
    if (player == 1) {  
      player1Board <- game.getPlayerOneBoard(), game.getBotTimeoutInMilliseconds());  
    } else if (player == 2 and gameType == BOT_VS_HUMAN){
  	 move = bot2.getMove(game.getPlayerTwoBoard(), game.getHumanTimeoutInMilliseconds());    
    }
    else {
      move = bot2.getMove(game.getPlayerTwoBoard(), game.getBotTimeoutInMilliseconds());    
    }

    reasonMoveWasInvalid = game.validateMove(rawMove, player);
    
    if (reasonMoveWasInvalid == null) {
      game.updateBoard(rawMove, rawStderr, player);
      game.getMidGameStateJSON(jsonSafeMove, jsonSafeStderrArray, player)
      Send Mid GameState to TestArena
    } else {
      Send invalid move message to TestArena
    }
  }
  
  System.out.println(game.getFinalGameStateJSON());
}
</pre>
       <h3> Write a class named "Game" that implements the following interface </h3>
<pre>
public interface GameInterface {
 
  /**
   * 
   * @return A user friendly game name. E.g. Save The Island or Tic-Tac-Toe
   */
  public String getName();
  
  /**
   * Called before any other interface methods. Must setup the game to be ready to
   * play. Most likely involves initializing the board and any private members.
   * @param gameType A GameType enum specifying BotVsBot or BotVsHuman.
   */
  public void initializeGame(GameType gameType);
  
  /**
   * Called after initializeGame and before the main game loop starts. Must generate
   * a valid JSON GameState object as defined in the documentation. The receipt of this
   * GameState will trigger the client javascript to call GAME.resetGameboard, and then
   * pass this GameState along to GAME.processGameData, GAME.processDebugData, GAME.processAnimatableEvent
   * @return A string containing a valid JSON GameState.
   */
  public String getInitialGameStateJSON();
  
  /**
   *  Must return null if it was a valid move. If invalid you may provide a string
   *  indicating the reason the move was invalid. This will be logged on the client side.
   * @param move The last line received from the players standard output stream
   * @param player Either 1 or 2.
   * @return
   */
  public String validateMove(String move, int player);
  
  /**
   * Will be called only if move was valid according to validateMove. Expected to
   * evaluate and store any changes to the game state as a result of this move.
   * Note: getMidGamestate will be called immediately after this.
   * @param move The last line received from the players standard output stream
   * @param player Either 1 or 2.
   */
  void updateBoard(String move, String stderr, int player);
  
  /**
   * Used as the control for the main game loop. Once this returns true, the
   * game is considered over and the GameInstance will call getFinalGameStateJSON.
   * @return
   */
  boolean isGameOver();
  
  /**
   * Return the player number of the current turn (iteration of the game loop). 
   * This player will be asked for a move, and that move will be submitted to 
   * the next calls to validateMove and updateBoard. 
   */
  int getPlayerForCurrentTurn();

  String getCompleteBoard();
  
  String getPlayerOneBoard();
  
  String getPlayerTwoBoard();
  
  public String getMidGameStateJSON(String jsonSafeMove, String jsonSafeStderrArray, int player);
  
  public String getFinalGameStateJSON();

  String getJSONstringFromGameResults(GameResults results);
  
  int getBotTimeoutInMilliseconds();
  int getHumanTimeoutInMilliseconds();
}
</pre>

Games are 

JS Methods

1. processGameData
2. processDebugData
3. processAnimatableEvent
4. drawBoard
5. setHumanInputElements
6. getMoveFromHumanInputElements
7. setExtraGameControls
8. resetGameboard

Java Methods

You must write a java class that implements GameInterface. This class must be named Game and exist as the single public class in a file named Game.java. This source file will be uploaded through the initial configuration page. The initial configuration will simply copy this file into a directory along with the rest of the GameManager source code and compile the GameManager. This compiled GameM
1. getBotTimeoutInMilliseconds



    <section class="main-content">
      <h2>Documentation </h2>

	<p>This was a pretty fun journy!  It started out as our seior project at Penn State Harrisburg and turned into an awesome learning experience.
       Here are a few of the documents 
	   we developed in the process of making our Bot!Battle! system.  As you might notice, things grew and changed a lot!  And even though we didn't finish
	   a few things, we ended up with a pretty solid and really fun system.  If you would like to help make things better, help finish
	   a few things we didn't get to, or possibly develop a game then head to the Downloads page and help us make Bot!Battle!2.0!
	   <!-- A system documentation page that has links to the functional requirements document,
behavioral requirements document, the technical design document, and testing plan document. -->
    </p>
	<h3>Early Designs</h3>
	<p><a href="./papers/Deliverable2/Early_Site_Map.pdf">An early site-map</a>
	<p><a href="./papers/Deliverable2/Prototype_WireFrame.jpg">An early wire frame</a>
	<p><a href="./papers/Deliverable2/Requirements_Domain_Model.pdf">Initial Requirements, Domain Model, and Glossary</a>
	<p><a href="./papers/Deliverable2/UseCases.pdf">Initial use cases</a>
	<h3>Class Diagrams</h3>
	<p><a href="./papers/Deliverable3/Class Diagrams/Bot Battle App.pdf">Bot Battle App</a>
	<p><a href="./papers/Deliverable3/Class Diagrams/Class Model.pdf">Class Model</a>
	<p><a href="./papers/Deliverable3/Class Diagrams/Game Manager.pdf">Game Manager</a>
	<p><a href="./papers/Deliverable3/Class Diagrams/View Tournament Webpage.pdf">View Tournament Webpage</a>
	<h3>Sequence Diagrams</h3>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Add User Alternate Flow.pdf">Add User Alternate Flow</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Add User.pdf">Add User</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Admin Runs Tournament.pdf">Admin Runs Tournament</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Enter Bot to Tournament.pdf">Enter Bot to Tournament</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Initialize the System.pdf">Initialize the System</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Log In.pdf">Log In</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Make Tournament Public.pdf">Make Tournament Public</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Play Bot In Test Arena.pdf">Play Bot In Test Arena</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Play Bot Vs Bot In Test Arena.pdf">Play Bot Vs Bot In Test Arena</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Remove User.pdf">Remove User</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Tournament Playback.pdf">Tournament Playback</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Update Rules PDF.pdf">Update Rules PDF.pdf</a>
	<p><a href="./papers/Deliverable3/Sequence Diagrams/Update Upload Deadline.pdf">Update Upload Deadline.pdf</a>
	<h3>Later Designs</h3>
	<p><a href="./papers/Deliverable3/Glossary.pdf">Glossary</a>
	<p><a href="./papers/Deliverable3/SiteMap2.0.jpeg">Revised Site Map</a>
	<p><a href="./papers/Deliverable3/SystemRequirements.pdf">System Requirements</a>
	<p><a href="./papers/Deliverable3/Use Cases.pdf">Use Cases</a>
	
      <footer class="site-footer">
        <span class="site-footer-credits">Parts of this page were generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
